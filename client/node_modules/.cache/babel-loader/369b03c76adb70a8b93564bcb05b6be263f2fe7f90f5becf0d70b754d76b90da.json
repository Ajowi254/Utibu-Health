{"ast":null,"code":"var _jsxFileName = \"/home/jb/Dev/phase-5/Phase-5-Capstone/client/src/Components/Auth/ForgotPasswordPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useFormik } from \"formik\";\nimport axios from \"axios\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { env } from \"../../config\";\nimport load from \"../../asset/loading2.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ForgotPasswordPage() {\n  _s();\n  const params = useParams();\n  let [loading, setloading] = useState(false);\n  let navigate = useNavigate();\n  const formik = useFormik({\n    initialValues: {\n      password: \"\",\n      conformPassword: \"\"\n    },\n    validate: values => {\n      const errors = {};\n      if (values.password.length === 0) {\n        errors.password = \"Enter your passowrd\";\n      } else if (values.password.search(/[a-z]/i) < 0) {\n        errors.password = \"Your password must contain at least one letter\";\n      } else if (values.password.search(/[0-9]/) < 0) {\n        errors.password = \"Your password must contain at least one digit\";\n      } else if (values.password.length < 8) {\n        errors.password = \"Your password must be at least 8 characters\";\n      }\n      if (values.conformPassword !== values.password) {\n        errors.conformPassword = \"Conform password does not match\";\n      } else if (values.conformPassword.length === 0) {\n        errors.conformPassword = \"Enter your conform password\";\n      }\n      return errors;\n    },\n    onSubmit: async values => {\n      try {\n        delete values.conformPassword;\n        values.id = params.id;\n        values.token = params.token;\n        setloading(true);\n        let user = await axios.post(`${env.api}/user/password-reset-page`, values);\n        if (user.data.statusCode === 200) {\n          setloading(false);\n          toast.success(user.data.message);\n          setTimeout(() => {\n            navigate(\"/\");\n          }, 1000);\n        }\n        if (user.data.statusCode === 401) {\n          setloading(false);\n          toast.warn(user.data.message);\n          setTimeout(() => {\n            navigate(\"/forgot-password\");\n          }, 4000);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"containers\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form\",\n      onSubmit: values => {\n        formik.handleSubmit(values);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"text-center mb-4\",\n        children: \"Password Reset Form\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control shadow-none\",\n          placeholder: \"Enter you Password \",\n          value: formik.values.password,\n          onChange: formik.handleChange,\n          onBlur: formik.handleBlur,\n          name: \"password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), formik.touched.password && formik.errors.password ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error\",\n          children: [\" \", formik.errors.password]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label \",\n          children: \"Conform Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control shadow-none\",\n          placeholder: \"Enter you Conform Password\",\n          value: formik.values.conformPassword,\n          onChange: formik.handleChange,\n          onBlur: formik.handleBlur,\n          name: \"conformPassword\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), formik.touched.conformPassword && formik.errors.conformPassword ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error\",\n          children: [\" \", formik.errors.conformPassword]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" d-flex justify-content-center mt-4 mb-3\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btns\",\n          disabled: !formik.isValid,\n          children: loading ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: load,\n            alt: \"load\",\n            className: \"spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this) : \" Change Password \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(ForgotPasswordPage, \"X3BtbYGJMlr5CYFQCQBVjx5wW9w=\", false, function () {\n  return [useParams, useNavigate, useFormik];\n});\n_c = ForgotPasswordPage;\nexport default ForgotPasswordPage;\nvar _c;\n$RefreshReg$(_c, \"ForgotPasswordPage\");","map":{"version":3,"names":["React","useState","useFormik","axios","ToastContainer","toast","useNavigate","useParams","env","load","ForgotPasswordPage","params","loading","setloading","navigate","formik","initialValues","password","conformPassword","validate","values","errors","length","search","onSubmit","id","token","user","post","api","data","statusCode","success","message","setTimeout","warn","error","console","log","handleSubmit","handleChange","handleBlur","touched","isValid"],"sources":["/home/jb/Dev/phase-5/Phase-5-Capstone/client/src/Components/Auth/ForgotPasswordPage.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useFormik } from \"formik\";\nimport axios from \"axios\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { env } from \"../../config\";\nimport load from \"../../asset/loading2.svg\";\n\nfunction ForgotPasswordPage() {\n  const params = useParams();\n  let [loading, setloading] = useState(false);\n  let navigate = useNavigate();\n\n  const formik = useFormik({\n    initialValues: {\n      password: \"\",\n      conformPassword: \"\",\n    },\n    validate: (values) => {\n      const errors = {};\n      if (values.password.length === 0) {\n        errors.password = \"Enter your passowrd\";\n      } else if (values.password.search(/[a-z]/i) < 0) {\n        errors.password = \"Your password must contain at least one letter\";\n      } else if (values.password.search(/[0-9]/) < 0) {\n        errors.password = \"Your password must contain at least one digit\";\n      } else if (values.password.length < 8) {\n        errors.password = \"Your password must be at least 8 characters\";\n      }\n      if (values.conformPassword !== values.password) {\n        errors.conformPassword = \"Conform password does not match\";\n      } else if (values.conformPassword.length === 0) {\n        errors.conformPassword = \"Enter your conform password\";\n      }\n      return errors;\n    },\n\n    onSubmit: async (values) => {\n      try {\n        delete values.conformPassword;\n        values.id = params.id;\n        values.token = params.token;\n        setloading(true)\n        let user = await axios.post(`${env.api}/user/password-reset-page`, values);\n\n        if (user.data.statusCode === 200) {\n          setloading(false)\n          toast.success(user.data.message);\n          setTimeout(() => {\n            navigate(\"/\");\n          }, 1000);\n        }\n        if (user.data.statusCode === 401) {\n          setloading(false)\n          toast.warn(user.data.message);\n          setTimeout(() => {\n            navigate(\"/forgot-password\");\n          }, 4000);\n        }\n\n      } catch (error) {\n        console.log(error);\n      }\n    },\n  });\n  return (\n    <div className=\"containers\">\n      <form\n        className=\"form\"\n        onSubmit={(values) => {\n          formik.handleSubmit(values);\n        }}\n      >\n        <h4 className=\"text-center mb-4\">Password Reset Form</h4>\n        <div className=\"mb-3\">\n          <label className=\"form-label\">Password</label>\n          <input\n            type=\"password\"\n            className=\"form-control shadow-none\"\n            placeholder=\"Enter you Password \"\n            value={formik.values.password}\n            onChange={formik.handleChange}\n            onBlur={formik.handleBlur}\n            name=\"password\"\n          />\n          {formik.touched.password && formik.errors.password ? (\n            <div className=\"error\"> {formik.errors.password}</div>\n          ) : null}\n        </div>\n        <div className=\"mb-3\">\n          <label className=\"form-label \">Conform Password</label>\n          <input\n            type=\"password\"\n            className=\"form-control shadow-none\"\n            placeholder=\"Enter you Conform Password\"\n            value={formik.values.conformPassword}\n            onChange={formik.handleChange}\n            onBlur={formik.handleBlur}\n            name=\"conformPassword\"\n          />\n          {formik.touched.conformPassword && formik.errors.conformPassword ? (\n            <div className=\"error\"> {formik.errors.conformPassword}</div>\n          ) : null}\n        </div>\n        <div className=\" d-flex justify-content-center mt-4 mb-3\">\n          <button type=\"submit\" className=\"btn btns\" disabled={!formik.isValid}>\n            {loading ? (\n              <img\n                src={load}\n                alt=\"load\"\n                className=\"spinner\"\n              />\n            ) : \" Change Password \"}\n          </button>\n        </div>\n      </form>\n      <ToastContainer />\n    </div>\n  )\n}\n\nexport default ForgotPasswordPage"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}