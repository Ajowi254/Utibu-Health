{"ast":null,"code":"var _jsxFileName = \"/home/jb/Dev/phase-5/Phase-5-Capstone/client/src/Components/Context/usercContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { env } from \"../../config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet UserContext = /*#__PURE__*/createContext();\nexport const UserProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  let navigate = useNavigate();\n  const [username, setUsername] = useState(\"\");\n  const [product, setProduct] = useState([]);\n  const [orders, setOrders] = useState({});\n  let [data, setData] = useState({});\n  useEffect(() => {\n    productData();\n  }, []);\n  useEffect(() => {\n    productData();\n  }, [orders]);\n  const productData = async () => {\n    try {\n      let value;\n      value = await axios.get(`${env.api}/inventory/products`);\n      setProduct(value.data.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const setOrderz = async data => {\n    const {\n      paymenttype\n    } = data;\n    if (paymenttype === \"online_payment\") {\n      navigate(\"/user-portal/razorpay\");\n    } else {\n      let mongo_id = await axios.post(`${env.api}/orders/order`, data);\n      setOrders({});\n      navigate(`/user-portal/order-success/${mongo_id.data.id}`);\n    }\n  };\n  const getInvoice = async id => {\n    try {\n      let value = await axios.get(`${env.api}/orders/invoice/${id}`);\n      setData(value.data);\n      navigate(`/user-portal/order-success/invoice`);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(UserContext.Provider, {\n    value: {\n      username,\n      setUsername,\n      product,\n      orders,\n      setOrders,\n      setOrderz,\n      data,\n      getInvoice,\n      productData\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n_s(UserProvider, \"K3dDLhysZqrP1l4opsGIjtKWS5g=\", false, function () {\n  return [useNavigate];\n});\n_c = UserProvider;\nexport default UserContext;\nvar _c;\n$RefreshReg$(_c, \"UserProvider\");","map":{"version":3,"names":["createContext","useEffect","useState","axios","useNavigate","env","UserContext","UserProvider","children","navigate","username","setUsername","product","setProduct","orders","setOrders","data","setData","productData","value","get","api","error","console","log","setOrderz","paymenttype","mongo_id","post","id","getInvoice"],"sources":["/home/jb/Dev/phase-5/Phase-5-Capstone/client/src/Components/Context/usercContext.js"],"sourcesContent":["import { createContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { env } from \"../../config\";\n\n\nlet UserContext = createContext();\n\nexport const UserProvider = ({ children }) => {\n  let navigate = useNavigate();\n  const [username, setUsername] = useState(\"\");\n  const [product, setProduct] = useState([])\n  const [orders, setOrders] = useState({});\n  let [data, setData] = useState({});\n\n\n\n\n  useEffect(() => {\n    productData()\n  }, [])\n\n\n\n\n  useEffect(() => {\n    productData()\n  }, [orders])\n\n\n\n  const productData = async () => {\n    try {\n      let value;\n      value = await axios.get(`${env.api}/inventory/products`);\n      setProduct(value.data.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const setOrderz = async (data) => {\n    const { paymenttype } = data;\n    if (paymenttype === \"online_payment\") {\n      navigate(\"/user-portal/razorpay\")\n    } else {\n      let mongo_id = await axios.post(`${env.api}/orders/order`, data);\n      setOrders({});\n      navigate(`/user-portal/order-success/${mongo_id.data.id}`)\n    }\n  }\n\n\n  const getInvoice = async (id) => {\n    try {\n      let value = await axios.get(`${env.api}/orders/invoice/${id}`);\n      setData(value.data);\n      navigate(`/user-portal/order-success/invoice`)\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n\n  return (\n    <UserContext.Provider value={{ username, setUsername, product, orders, setOrders, setOrderz, data, getInvoice,productData }}>\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport default UserContext;"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,GAAG,QAAQ,cAAc;AAAC;AAGnC,IAAIC,WAAW,gBAAGN,aAAa,EAAE;AAEjC,OAAO,MAAMO,YAAY,GAAG,QAAkB;EAAA;EAAA,IAAjB;IAAEC;EAAS,CAAC;EACvC,IAAIC,QAAQ,GAAGL,WAAW,EAAE;EAC5B,MAAM,CAACM,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACY,MAAM,EAAEC,SAAS,CAAC,GAAGb,QAAQ,CAAC,CAAC,CAAC,CAAC;EACxC,IAAI,CAACc,IAAI,EAAEC,OAAO,CAAC,GAAGf,QAAQ,CAAC,CAAC,CAAC,CAAC;EAKlCD,SAAS,CAAC,MAAM;IACdiB,WAAW,EAAE;EACf,CAAC,EAAE,EAAE,CAAC;EAKNjB,SAAS,CAAC,MAAM;IACdiB,WAAW,EAAE;EACf,CAAC,EAAE,CAACJ,MAAM,CAAC,CAAC;EAIZ,MAAMI,WAAW,GAAG,YAAY;IAC9B,IAAI;MACF,IAAIC,KAAK;MACTA,KAAK,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAAE,GAAEf,GAAG,CAACgB,GAAI,qBAAoB,CAAC;MACxDR,UAAU,CAACM,KAAK,CAACH,IAAI,CAACA,IAAI,CAAC;IAC7B,CAAC,CAAC,OAAOM,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB;EACF,CAAC;EAED,MAAMG,SAAS,GAAG,MAAOT,IAAI,IAAK;IAChC,MAAM;MAAEU;IAAY,CAAC,GAAGV,IAAI;IAC5B,IAAIU,WAAW,KAAK,gBAAgB,EAAE;MACpCjB,QAAQ,CAAC,uBAAuB,CAAC;IACnC,CAAC,MAAM;MACL,IAAIkB,QAAQ,GAAG,MAAMxB,KAAK,CAACyB,IAAI,CAAE,GAAEvB,GAAG,CAACgB,GAAI,eAAc,EAAEL,IAAI,CAAC;MAChED,SAAS,CAAC,CAAC,CAAC,CAAC;MACbN,QAAQ,CAAE,8BAA6BkB,QAAQ,CAACX,IAAI,CAACa,EAAG,EAAC,CAAC;IAC5D;EACF,CAAC;EAGD,MAAMC,UAAU,GAAG,MAAOD,EAAE,IAAK;IAC/B,IAAI;MACF,IAAIV,KAAK,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAAE,GAAEf,GAAG,CAACgB,GAAI,mBAAkBQ,EAAG,EAAC,CAAC;MAC9DZ,OAAO,CAACE,KAAK,CAACH,IAAI,CAAC;MACnBP,QAAQ,CAAE,oCAAmC,CAAC;IAChD,CAAC,CAAC,OAAOa,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB;EACF,CAAC;EAGD,oBACE,QAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAE;MAAEZ,QAAQ;MAAEC,WAAW;MAAEC,OAAO;MAAEE,MAAM;MAAEC,SAAS;MAAEU,SAAS;MAAET,IAAI;MAAEc,UAAU;MAACZ;IAAY,CAAE;IAAA,UACzHV;EAAQ;IAAA;IAAA;IAAA;EAAA,QACY;AAE3B,CAAC;AAAC,GA7DWD,YAAY;EAAA,QACRH,WAAW;AAAA;AAAA,KADfG,YAAY;AA+DzB,eAAeD,WAAW;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}